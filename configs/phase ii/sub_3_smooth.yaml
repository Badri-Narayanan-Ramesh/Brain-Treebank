data:
  # === PopT speech baseline ===
  use_popt_speech: true

  # Root of all_test_word_onset generated by PopT
  brain_root_speech: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/PopulationTransformer/saved_examples/SUBJECT3_test_word_onset_idx07_phase_2"

  # PopT-generated files
  speech_manifest_tsv: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/PopulationTransformer/saved_examples/SUBJECT3_test_word_onset_idx07_phase_2/manifest.tsv"
  speech_labels_tsv:   "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/PopulationTransformer/saved_examples/SUBJECT3_test_word_onset_idx07_phase_2/labels.tsv"
  
  # split_mode: "by_trial"  
  # train_frac: 1.0
  only_subjects: ["sub_3"]

  # random gave 0.96 AUC
  split_mode: "random"
  train_frac: 0.9  # only used if split_mode="random"

  # train_subject_trials:
  #   - subject: "sub_3"
  #     trials: ["trial000", "trial002"]

  # val_subject_trials:
  #   - subject: "sub_3"
  #     trials: ["trial001"]

model:
  # contrastive branch (option B)
  # popt_cfg_path: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/PopulationTransformer/conf/model/pt_custom_model.yaml"
  d_model: 512
  n_heads: 8
  num_layers: 6
  d_contrastive: 64
  dropout: 0.1

  brain_input_dim: 768
  coord_dim: 0

  # audio_* fields are ignored in brain_only mode but can stay
  audio_d_model: 128
  audio_hidden_dim: 256
  audio_num_layers: 3
  audio_kernel_size: 5
  audio_dropout: 0.1

  # === PopT downstream (Option A) ===
  # upstream_path: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/Brain-Treebank/pretrained_weights/popt_pretrained_weights/pretrained_popt_brainbert_stft.pth"
  popt_cfg_path: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/Brain-Treebank/pretrained_weights/popt_pretrained_weights/pt_downstream_model.yaml"
  popt_upstream_path: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/Brain-Treebank/pretrained_weights/popt_pretrained_weights/pretrained_popt_brainbert_stft.pth"
  # freeze_brain: false    # let it adapt to speech task
  use_popt_downstream: true

training:
  batch_size: 64
  epochs: 20
  lr: 1e-4
  weight_decay: 1e-2
  temperature: 0.07

  # lambda_cls: 1.0
  # temperature
  lambda_smooth: 0.1     # no smoothing for pure baseline

  device: "cuda"
  seed: 42
  num_workers: 4
  brain_only: true        # <-- CRUCIAL for generic branch

logging:
  log_interval: 50
  val_interval: 1
  ckpt_dir: "C:/Users/badri/OneDrive/Documents/EE 675 Neural Learning/Baseline Replication/PopulationTransformer/outputs/phase ii outputs/sub_3_lambda_0.1"
  metrics_file: "metrics.json"
